[Display]
ScreenWidth     = @MainCamera.FrustumWidth
ScreenHeight    = @MainCamera.FrustumHeight
Title           = LD44
FullScreen      = false
Smoothing       = false
VSync           = true

[Resource]
Texture         = ../data/texture
Sound           = ../data/sound

[Config]
DefautParent    = Default

[Default]
KeepInCache     = true

[Input]
SetList         = MainInput

[MainInput]
KEY_ESCAPE      = Quit
KEY_S           = SpeedUp
KEY_DOWN        = SpeedUp
KEY_A           = MoveLeft
KEY_LEFT        = MoveLeft
KEY_D           = MoveRight
KEY_RIGHT       = MoveRight
KEY_Q           = RotateCCW
KEY_Z           = RotateCCW
KEY_E           = RotateCW
KEY_X           = RotateCW

[Game]
ViewportList    = Viewport1
FallDelayList   = 0.8 # 0.05
MoveDelayList   = 0.3 # 0.075
GridSize        = (10, 22)

[Runtime]
Score = 0

[MainViewport]
Camera          = MainCamera

[MainCamera]
FrustumWidth    = 1280
FrustumHeight   = 720
FrustumFar      = 2
FrustumNear     = 0

[Viewport1]
BackgroundColor = (0, 0, 0)
BackgroundAlpha = 1
Camera          = Camera1
Texture         = TextureP1

[Camera1]
GroupList       = Background # Tetro # UI
FrustumWidth    = 320
FrustumHeight   = 480
FrustumFar      = 2
FrustumNear     = 0
Position        = % > get Background Pivot, > / (320, 480, -2) 2, - < <

[Scene@@]
ChildList       = Play1 # Instance # GameMusic

[Play1]
Graphic         = @
Pivot           = center
ParentCamera    = MainCamera
Texture         = TextureP1
Scale           = 1

[Instance]
ChildList       = Background # Score

[Background]
Group           = Background
Graphic         = @
Texture         = background_01.png
Pivot           = (96, 64)

[Score]
Group           = UI
ParentCamera    = Camera1
Position        = (-0.48, -0.48)
Pivot           = top left
Graphic         = @
Text            = @
Font            = font_gamegirl
String          = "SCORE: "
TrackList       = @
0               = > get Runtime Score, > Get Score String, Object.SetText ^ "<<"
Loop            = true

[GameOver]
Group           = UI
Graphic         = @
Pivot           = center
ParentCamera    = Camera1
UseParentSpace  = position
Text            = @
Font            = font_gamegirl
String          = GAME OVER
Scale           = 2
FXList          = @
SlotList        = ScaleIn # ScaleWobble

[ScaleIn]
Type            = scale
Curve           = linear
StarValue       = 0.1
EndValue        = 1
StartTime       = 0
EndTime         = 0.15

[ScaleWobble]
Type            = scale
Curve           = sine
StartValue      = 1
EndValue        = 1.15
StartTime       = @ScaleIn.EndTime
EndTime         = % >> get ScaleWobble StartTime, + < 0.05

[LineClearTrack]
0               = Object.Create ClearSound  #
                > Get Runtime ClearedLines  #
                > * < 10                    #
                > Get Runtime Score         #
                > + < <                     #
                  Set Runtime Score <

[RotateTrack]
0               = Object.Create RotateSound

[MoveTrack]
0               = Object.Create MoveSound

[LandTrack]
0               = Object.Create LandSound   #
                > Get Runtime Score         #
                > + < 1                     #
                  Set Runtime Score <

@font_gamegirl.ini@
@sound.ini@
@tetro.ini@
@dev.ini@
